# 📄 Ubike 借閱量預測 - 實驗報告撰寫指南

**給負責寫報告的同學：**
這份文件整理了實驗數據的使用方式。所有的圖表都放在 `report_images/` 資料夾中，詳細數據在 `batch_experiment_results.csv`。

---

## 第一部分：實驗設計與方法 (Methodology)

在這一章節，請強調我們如何確保實驗的「真實性」與「公平性」。

### 1. 資料切割策略 (重要！)
*   我們**不是**隨機切割資料 (Random Split)。
*   我們採用 **「以時間切割」(Time-based Split)**，將 **3月份** 的資料完全作為測試集 (Test Set)，其餘月份作為訓練集。
*   **寫作論點**：這樣做是為了模擬真實世界的預測情境（用過去預測未來），避免模型「偷看」到鄰近時間點的答案 (Data Leakage)，雖然這樣會讓 R2 分數比較難看，但結果更具可信度。

### 2. 特徵工程策略
*   我們比較了從「純時間特徵」到加入「靜態地理特徵（捷運、學校、人口）」的差異。
*   **關鍵論點**：加入靜態特徵是為了讓模型學習「空間邏輯」（例如：離捷運近 = 人多），而不僅僅是死記每個站點的 ID。

---

## 第二部分：模型成效分析 (Results)

### 1. 整體模型表現比較
*   **插入圖表**：`report_images/5_Model_Comparison.png`
*   **數據來源**：`batch_experiment_results.csv`
*   **寫作論點**：
    *   比較 Linear Regression, Random Forest 與 XGBoost 的表現。
    *   **關鍵發現**：隨著特徵從單純的 `hour` 增加到包含 `mrt_dist` (捷運距離)、`population` (人口) 等環境特徵，模型的 R2 分數顯著提升。這證明了**環境因子對於預測各站點的基礎借車量非常有幫助**。

### 2. 預測準確度檢視
*   **插入圖表**：`report_images/4_Scatter_Plot.png`
*   **寫作論點**：
    *   這張圖展示了真實值 (X軸) 與預測值 (Y軸) 的關係。
    *   理想情況下，點應該落在紅色的 45 度虛線上。
    *   **觀察**：大部分的點都集中在對角線附近，顯示模型在大多數情況下預測準確。如果有少數點偏離（通常是在極高借車量時），可以解釋為突發性的大量借車（如活動散場）較難預測。

### 3. 時間趨勢捕捉能力 (核心亮點)
*   **插入圖表**：`report_images/2_Hourly_Trend.png`
*   **寫作論點**：
    *   **這是證明模型有效的關鍵圖表**。
    *   紅線（預測）與黑線（真實）在波峰與波谷高度重疊。
    *   **結論**：模型成功學會了台北市民的通勤作息，精準捕捉到 **早上 8:00** 與 **下午 18:00** 的上下班尖峰。

### 4. 平日與假日的區別
*   **插入圖表**：`report_images/3_One_Week_Zoom.png`
*   **寫作論點**：
    *   展示測試集第一週的細節預測。
    *   **觀察**：可以看到平日呈現明顯的「雙高峰」（上下班），而假日則呈現較平緩的「單高峰」（下午出遊）。模型能夠根據 `weekday` 特徵自動切換預測模式。

---

## 第三部分：特徵重要性分析 (Discussion)

**這是報告中最有深度的部分，解釋「為什麼」模型會這樣預測。**

*   **插入圖表**：`report_images/1_Feature_Importance.png`
*   **寫作論點 (請參考以下三點)**：

1.  **時間是王道**：`hour` (小時) 通常排第一名。這證實了共享單車是高度依賴「作息時間」的交通工具。
2.  **站點規模決定天花板**：`Quantity` (車柱數量) 排名很高。這代表模型學會了物理限制——大站借車量多，小站借車量少。
3.  **空間邏輯的建立**：`mrt_dist_nearest_m` (捷運距離) 的重要性很高。這表示模型學會了**「離捷運越近，借車需求越高」**的通用規則，而不僅僅是死記硬背每個站點的 ID。這證明我們的模型具有良好的泛化能力 (Generalization)。

---

## 第四部分：結論 (Conclusion)

*   本實驗成功建立了一個結合「時間序列」與「空間環境特徵」的 Ubike 借閱量預測模型。
*   實驗證明，加入 **靜態地理特徵 (Static Features)** 能有效幫助模型區分不同站點的熱門程度。
*   模型在 3 月份的測試資料中表現穩定，能夠準確預測通勤尖峰與假日休閒需求。
